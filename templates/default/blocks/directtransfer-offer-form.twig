{% import "macros/formelements.twig" as formelements %}

{% set showForm = true %}
{% for frontMessage in env.getFrontMessages %}
	{% if frontMessage.type == "success" %}
		{% set showForm = false %}
	{% endif %}
{% endfor %}

{% if showForm %}
	{{ formelements.textfield('amount', Message('transferoffer_label_amount'), Request("amount"), true, validationMsg, 'number', Config("game_currency")) }}

	{{ formelements.textarea('comment', Message('transferoffer_label_comment'), Request("comment"), false, validationMsg, null, 3) }}


	<fieldset>
		<legend>{{ Message('transferoffer_label_fieldset_playerexchange') }}</legend>

		{{ formelements.teamPlayerSelection("exchangeplayer1", Message('transferoffer_label_exchangeplayer1'),
			Request("exchangeplayer1"), players) }}

		{{ formelements.teamPlayerSelection("exchangeplayer2", Message('transferoffer_label_exchangeplayer2'),
			Request("exchangeplayer2"), players) }}

	</fieldset>

	<fieldset>
		<legend>{{ Message('transferoffer_label_fieldset_contract') }}</legend>

		<dl class="dl-horizontal">
		  <dt>{{ Message("entity_player_vertrag_gehalt") }}</dt>
		  <dd>{{ player.player_contract_salary|number_format(0, ',', ' ')  }} {{ Config("game_currency") }}</dd>

		  <dt>{{ Message("entity_player_vertrag_torpraemie") }}</dt>
		  <dd>{{ player.player_contract_goalbonus|number_format(0, ',', ' ')  }} {{ Config("game_currency") }}</dd>

		  <dt>{{ Message("entity_player_vertrag_spiele") }}</dt>
		  <dd>{{ Config("transferoffers_contract_matches")  }} {{ Message("player_details_unit_matches") }}</dd>
		</dl>

	</fieldset>
{% else %}
	<script>
	$("#offerSubmit").hide();
	</script>
{% endif %}